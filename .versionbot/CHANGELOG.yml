- commits:
    - subject: Update meta-balena from v2.88.13 to v2.88.15
      hash: 3b2184d1739636404d5a7a5f398e38f6416ec913
      body: |
        Update meta-balena from 2.88.13 to 2.88.15
      footer:
        Changelog-entry: Update meta-balena from v2.88.13 to v2.88.15
        changelog-entry: Update meta-balena from v2.88.13 to v2.88.15
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: 'initrdscripts: fsuuidinit: Generate resin-rootA last'
              hash: 00d6ca48d32b2b1a111d400457b73be5cc36d6bf
              body: >
                As resin-rootA is used to decide whether to re-run the
                generation, leave it

                last. As it stands, if resin-rootA is regenerated by any other
                fail, the

                UUID generation is not retried.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'lvm2: Add rule to persist dm devices in udev database'
              hash: de2ff622473f2f0bc03c05dbd15f1df8c88f734e
              body: >
                On transitioning from the initramfs to the rootfs, the udev
                database is

                cleanedup as the rules between initramfs and rootfs might defer.


                However, dm devices are flagged not to be re-processed, so we
                need to

                set a sticky bit on them so they persist the cleanup.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: >-
                initrdscript: Cleanup udev database before transitioning to
                rootfs
              hash: a72061cfe9ba48809ba87b0bc03e01a6bc53cff4
              body: >
                This is needed because the rules in the final rootfs might be

                different than the one in the initramfs.


                Devices that need to persist, like dm devices, need to be
                flagged with

                the `db_persist` option.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'initrdscripts: Use /run as bootparam_root storage'
              hash: 449dee77f54d4185f98854bca9148a6f42620bc8
              body: >
                From v2.49, the hostapp-update utility creates the /run
                directory in the

                root filesystem, however when huping from previous versions /run
                is not

                there.


                Commit bab3cd7f50022127bfef50fde9cd445b6b55a7b2 switches to use
                /tmp

                to store the new UUID for the root partition on first boot after

                generating new UUIDs as this is backwards compatible.


                However, this means that the udev database in the initramfs is
                recreated

                on the final system instead of reused. This becomes a problems
                for DM

                devices (used in luks based disk encryption), as they are not
                re-processed

                by udevd.


                This change will use /run if available, so new releases that may
                implement

                disk encryption work, or /tmp if not so it still remains
                backwards

                compatible for HUP from older releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'lvm: Add lvm rules when secure boot is configured'
              hash: d41eacad52fde90340c5f7eb4f9fb862aba364ef
              body: |
                This add udev rules to detect mapper devices.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'balena-keys: Fetch DER keys and decode from base64'
              hash: 2538a1c621979f83385729be57b53faa640326d1
              body: >
                Some BIOS configuration, like TianoCore used in QEMU, needs DER
                keys for

                secure boot setup. Also, der, auth and esl keys are served
                base64 encoded

                and need to be decoded before they can be used.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.88.15
          date: 2022-01-04T14:24:39.301Z
        - commits:
            - subject: Sync cached writes to disk when updating supervisor.conf
              hash: cf51428b9daaf8325cafc850fb47e27a6a6bcb5d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.88.14
          date: 2022-01-04T11:19:00.838Z
  version: 2.88.15
  date: 2022-01-05T11:07:10.605Z
- commits:
    - subject: Mark odyssey-x86 as community device type
      hash: 71dad6df60a994ecc6dd8adf402383a4eeacfbd8
      body: |
        Also detail a bit the pretty device type name
      footer:
        Changelog-entry: Mark odyssey-x86 as community device type
        changelog-entry: Mark odyssey-x86 as community device type
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.88.13+rev1
  date: 2022-01-04T13:06:47.453Z
- commits:
    - subject: Add initial support for ODYSSEY-X86
      hash: eb1df3959f809224d6cf42510be7f3682e3ec89d
      body: ''
      footer:
        Changelog-entry: Add initial support for ODYSSEY-X86
        changelog-entry: Add initial support for ODYSSEY-X86
        Signed-off-by: Lakshantha Dissanayake <lakshanthad@seeed.cc>
        signed-off-by: Lakshantha Dissanayake <lakshanthad@seeed.cc>
      author: lakshanthad
      nested: []
  version: 2.88.13
  date: 2022-01-04T12:13:38.510Z
